<!DOCTYPE html>
<html lang="sv">

    <head>
        <!-- Div elementet var React.js applikationen ska visas. -->
        <link rel="stylesheet" type="text/css" media="all" href="/css/style-basic.css" />

        <meta charset="UTF-8" />
        <title>Sägenkarta - Institutet för språk och folkminnen</title>
        <!-- Matomo -->
    <script>
        const hostname = window.location.hostname;
        const is_dev = ["127.0.0.1", "localhost", "0.0.0.0"].some((element) =>
        hostname.includes(element)
        );
        const is_test = ["-test."].some((element) => hostname.includes(element));
        const ENV = is_dev ? "dev" : is_test ? "test" : "prod";
    
        const matomo_site_ids = {
            'dev': null,
            'test': null,
            'prod': 81,
        }
    
        const siteId = matomo_site_ids[ENV];
    
        console.log("Matomo siteId: " + siteId);
    
        var _paq = window._paq = window._paq || [];
        /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
        currentUrl = '/' + window.location.hash.substr(1);
        //wait for new title before sending data to matomo
        setTimeout(function() {
            _paq.push(['setCustomUrl', currentUrl]);
            _paq.push(['setDocumentTitle', document.title]);
            _paq.push(['enableLinkTracking']);
            _paq.push(['trackPageView']);
            (function() {
                var u="https://matomo.isof.se/";
                _paq.push(['setTrackerUrl', u+'matomo.php']);
                _paq.push(['setSiteId', siteId]);
                var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
                g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
            })();
        }, 1000);
    
        var currentUrl = location.href;
        window.addEventListener('hashchange', function() {
            //wait for new title before sending data to matomo
            setTimeout(function() {
                _paq.push(['setReferrerUrl', currentUrl]);
                currentUrl = '/' + window.location.hash.substr(1);
                _paq.push(['setCustomUrl', currentUrl]);
                _paq.push(['setDocumentTitle', document.title]);
    
                // remove all previously assigned custom variables, requires Matomo (formerly Piwik) 3.0.2
                _paq.push(['deleteCustomVariables', 'page']); 
                _paq.push(['trackPageView']);
    
                // make Matomo aware of newly added content
                var content = document.getElementById('app');
                _paq.push(['MediaAnalytics::scanForMedia', content]);
                _paq.push(['FormAnalytics::scanForForms', content]);
                _paq.push(['trackContentImpressionsWithinNode', content]);
                _paq.push(['enableLinkTracking']);
            }, 1000);
        });
        </script>
        <!-- End Matomo Code -->
    </head>

    <body>
        <ul class="lp-menu-map-info">
        
        
            <li class="sv-inline">
                <a href="https://www.isof.se/arkiv-och-insamling/digitala-arkivtjanster/sagenkartan/transkribera-sagenkartan"
                    class="normal c26033">Transkribera Sägenkartan</a>
            </li>
        
            <li class="sv-inline">
                <a href="https://www.isof.se/arkiv-och-insamling/digitala-arkivtjanster/sagenkartan/instruktioner-sagenkartan"
                    class="normal c26033">Instruktioner Sägenkartan</a>
            </li>

            <li class="sv-inline">
                <a href="https://www.isof.se/arkiv-och-insamling/digitala-arkivtjanster/sagenkartan/om-sagenkartan"
                    class="normal c26033">Om Sägenkartan</a>
            </li>
        </ul>
        <div id="app"></div>
        <script type="text/javascript" src="/js/app.js"></script>
    </body>

</html>